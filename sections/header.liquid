<div class="overlay d-none"></div>
<!-- NAV -->

<div class="bg-main-blue custom-container ">
  <div class="row d-flex align-items-center py-lg-3 py-2">
    <div class="d-lg-block d-none col-lg-6">
      <p class="fw-bold funnel-font text-white text-nowrap">
        {{ section.settings.free_shipping_text }}
      </p>
    </div>
    <div class="col-lg-6 col-12 px-1">
      <ul class="d-flex flex-row  align-items-center justify-content-lg-end justify-content-between text-white w-100">
        <li class="">
          <a class="text-white pe-lg-2 ps-0" href="mailto:{{ section.settings.contact_email }}">{{ section.settings.contact_email }}</a>
        </li>
        <li class="">
          {% if customer %}
            <a class="text-white pe-lg-2 pe-4" href="{{ routes.account_url }}">{{ section.settings.account_text }}</a>
          {% else %}
            <a class="text-white pe-lg-2 pe-0" href="{{ routes.account_login_url }}">{{ section.settings.sign_in_text }}</a>
          {% endif %}
        </li>
        <li class="d-lg-block d-none">
          <div class="language-selector">
            <a
              class="text-white language-current"
              href="#"
              id="languageSelector">
              {% if request.locale.iso_code == 'de' %}
                Deutsch
                <span class="language-arrow">▼</span>
              {% elsif request.locale.iso_code == 'fr' %}
                Français
                <span class="language-arrow">▼</span>
              {% else %}
                English
                <span class="language-arrow">▼</span>
              {% endif %}
            </a>
            <div class="language-menu">
              {% if request.locale.iso_code != 'en' %}
                <a class="language-item" href="{{ request.path | replace_first: request.locale.iso_code, '' | remove_first: '/' }}">English</a>
              {% else %}
                <a class="language-item" href="{{ routes.root_url }}">English</a>
              {% endif %}
              <a class="language-item" href="{% if request.locale.iso_code == 'en' %}{{ routes.root_url }}de{% else %}{{ request.path | replace_first: request.locale.iso_code, 'de' }}{% endif %}">Deutsch</a>
              <a class="language-item" href="{% if request.locale.iso_code == 'en' %}{{ routes.root_url }}fr{% else %}{{ request.path | replace_first: request.locale.iso_code, 'fr' }}{% endif %}">Français</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- Actual Nav -->
<nav class="sticky-top bg-white">
  <div class="custom-container position-relative">
    <div class="row p-14">
      <div class="col-lg-7 col-sm-4 col-6 d-flex align-items-center p-0">
        <div class="hamburger d-lg-none d-block" type="button">
          <span class="line mb-1"></span>
          <span class="line mb-1"></span>
          <span class="line"></span>
        </div>
        <a href="{{routes.root_url}}">
          <img
            class="me-lg-3"
            id="nav-logo"
            src="{{ 'flutura-logo-lg.svg' | asset_url }}"
            alt="Flutura"
            width="100"
            height="50" />
        </a>
        <ul class="d-lg-flex d-none fw-bold ps-xxl-4 ps-xl-1" id="fluturaNavLinks">
          {% for link in linklists.main-menu.links %}
            <li>
              <a href="{{link.url}}" class="pe-xxl-5 pe-xl-4 pe-2">{{ link.title }}</a>

            </li>


          {% endfor %}
        </ul>
      </div>

      <div class="col-lg-5 ps-lg-0 col-sm-8 col-6 my-auto ms-auto p-0">
        <div class="d-flex align-items-center justify-content-end">
          <div class="input-group my-auto d-sm-flex d-none">
            <span class="input-group-text d-sm-inline-block" id="search-bar"><img
                src="{{'search-svg.svg' |  asset_url}}"
                width="18"
                height="18"
                id=""
                alt="" /></span>
            <input
              type="text"
              class="form-control"
              id="searchBar"
              placeholder="{{ section.settings.search_placeholder }}"
              aria-label="Search"
              aria-describedby="search-bar" />
          </div>
          <img
            class="d-sm-none d-block"
            type="button"
            src="{{'search-svg.svg' |  asset_url}}"
            width="18"
            height="18"
            id="search-btn-nav"
            alt="" />
          <div type="button" class="cart-nav d-flex align-items-center justify-content-end ms-2">

            <img
              id="cart-svg"
              src="{{'cart-svg.svg' |  asset_url}}"
              width="18"
              height="18"
              alt="Cart" />
            <p class="fw-bold" id="cart-count">
              &nbsp;
              <span class="d-sm-inline-block d-none cart-subtotal">{{ section.settings.cart_text }}</span>
            </p>

          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Cart -->
  <div class="cartContainer d-flex flex-column justify-content-between bg-gray">
    <div>
      <div class="d-flex align-items-center justify-content-md-between justify-content-around pb-4 pt-2">
        <h3 class="text-uppercase funnel-font">
          {{ section.settings.your_cart_text }} (<span class="cart-count">0</span>
          {{ section.settings.items_text }})
        </h3>
        <div
          class="d-flex align-items-center"
          type="button"
          id="closeCart">
          <img
            id="closeBtn"
            src="{{'Close.svg' |  asset_url}}"
            width="20"
            height="20"
            alt="">
          <h3 class="fs-5 funnel-font user-select-none ps-1" type="button">
            {{ section.settings.close_text }}</h3>
        </div>
      </div>
      <!-- CART ITEMS -->
      <div class="cartItemsContainer bg-white rounded-8"></div>
    </div>
    <!-- CART INFO -->
    <div class="cart-info">
      <div class="order-value-booster-block" id="cm9ivdx0x004pimv76lxdssu4"></div>
      <div class="d-flex align-items-md-center align-items-start justify-content-between border-bottom py-2">
        <p class="">{{ section.settings.discount_code_text }}</p>
        <input
          type="text"
          name="discount-code"
          id="discount-code"
          placeholder="{{ section.settings.enter_code_placeholder }}"
          class="rounded-8 " />
      </div>
      <div class="d-flex align-items-center justify-content-between py-2 d-none">
        <p>{{ section.settings.order_discounts_text }}</p>
        <p id="order-discounts">-$0.00</p>
      </div>
      <div class="d-flex align-items-start justify-content-md-between justify-content-between py-2">
        <p>{{ section.settings.shipping_costs_text }}</p>
        <p id="shipping-costs">$0.00</p>
      </div>
      <div class="d-flex align-items-start justify-content-between pt-2 pb-4">
        <h3 class="fw-bold">{{ section.settings.subtotal_text }}</h3>
        <h3 class="fw-bold cart-subtotal">$0.00</h3>
      </div>
      <div class="btn-main w-100 checkout-button text-center" style="cursor:pointer;">{{ section.settings.checkout_button_text }}</div>
    </div>
  </div>
  <!-- Mobile Menu -->
  <div class="mobileNavContainer d-lg-none">
    <div>
      <div class="d-flex align-items-center justify-content-between ">
        <img
          src="{{ 'flutura-logo-lg.svg' | asset_url }}"
          width="65"
          height="31"
          class="mobileNavLogo"
          alt="Flutra" />
        <button class="m-0 btn hamburger">{{ section.settings.close_text }}</button>
      </div>
      <div class="mobileNavLinks">
        {% for link in linklists.mobile-menu.links %}

          <a class=" mobileNavItem py-3 funnel-font fw-medium" href="{{link.url}}">{{ link.title }} <img
              src="{{'right-arrow.svg' |  asset_url}}"
              width="20"
              height="20"
              alt=""
              style="width: 10px;height: 10px;" /></a>


        {% endfor %}

        <div class="mobileNavItem">
          {% if customer %}
            <a class="funnel-font fw-medium" href="{{ routes.account_url }}">{{ section.settings.account_text }}</a>
          {% else %}
            <a class="funnel-font fw-medium" href="{{ routes.account_login_url }}">{{ section.settings.sign_in_text }}</a>
          {% endif %}
          <img
            src="{{'right-arrow.svg' |  asset_url}}"
            width="20"
            height="20"
            alt=""
            style="width: 10px;height: 10px;" />
        </div>

        <div class="emailNavMobile">
          <p class="fw-medium">{{ section.settings.email_contact_text }}</p>
          <a href="mailto:{{ section.settings.contact_email }}" class="">{{ section.settings.contact_email }}</a>
        </div>
      </div>
    </div>
    <div class="socialNavMobile">
      <p class="fw-bold">
        {{ section.settings.mobile_free_shipping_text }}
      </p>
      <div class="d-flex align-items-center justify-content-between pt-3">
        <div class="">{{ section.settings.choose_language_text }}</div>
        <div class="mobile-language-selector">
          <a
            class="language-mobile-current"
            href="#"
            id="mobileLangSelector">
            {% if request.locale.iso_code == 'de' %}
              Deutsch
              <span class="language-arrow">▼</span>
            {% elsif request.locale.iso_code == 'fr' %}
              Français
              <span class="language-arrow">▼</span>
            {% else %}
              English
              <span class="language-arrow">▼</span>
            {% endif %}
          </a>
          <div class="language-mobile-menu">
            {% if request.locale.iso_code != 'en' %}
              <a class="language-mobile-item" href="{{ request.path | replace_first: request.locale.iso_code, '' | remove_first: '/' }}">English</a>
            {% else %}
              <a class="language-mobile-item" href="{{ routes.root_url }}">English</a>
            {% endif %}
            <a class="language-mobile-item" href="{% if request.locale.iso_code == 'en' %}{{ routes.root_url }}de{% else %}{{ request.path | replace_first: request.locale.iso_code, 'de' }}{% endif %}">Deutsch</a>
            <a class="language-mobile-item" href="{% if request.locale.iso_code == 'en' %}{{ routes.root_url }}fr{% else %}{{ request.path | replace_first: request.locale.iso_code, 'fr' }}{% endif %}">Français</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>

<style>
  # discount-code {
    border: 1px solid #ced4da;
    padding: 0.375rem 0.75rem;
    transition: border-color 0.15s ease-in-out;
  }

  #discount-code.is-valid {
    border-color: #198754;
    background-color: #f8f9fa;
  }

  #discount-code.is-invalid {
    border-color: #dc3545;
    background-color: #f8f9fa;
  }

  #discount-code:disabled {
    background-color: #e9ecef;
    cursor: not-allowed;
  }

  /* Language selector styles */
  .language-selector {
    position: relative;
    display: inline-block;
  }

  .language-current {
    cursor: pointer;
    text-decoration: none;
  }

  .language-arrow {
    font-size: 0.7em;
    margin-left: 4px;
  }

  .language-menu {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 120px;
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    z-index: 1050;
    border-radius: 4px;
    overflow: hidden;
  }

  .language-selector:hover .language-menu {
    display: block;
  }

  .language-item {
    color: black;
    padding: 10px 15px;
    text-decoration: none;
    display: block;
  }

  .language-item:hover {
    background-color: #f1f1f1;
    text-decoration: none;
  }

  /* Mobile language selector styles */
  .mobile-language-selector {
    position: relative;
    display: inline-block;
  }

  .language-mobile-current {
    cursor: pointer;
    text-decoration: none;
    color: #212529;
    font-weight: 500;
  }

  .language-mobile-menu {
    display: none;
    position: absolute;
    right: 0;
    bottom: 100%;
    margin-bottom: 5px;
    background-color: white;
    min-width: 120px;
    box-shadow: 0 -8px 16px 0 rgba(0, 0, 0, 0.1);
    z-index: 1050;
    border-radius: 4px;
    overflow: hidden;
  }

  .language-mobile-item {
    color: #212529;
    padding: 10px 15px;
    text-decoration: none;
    display: block;
  }

  .language-mobile-item:hover {
    background-color: #f1f1f1;
    text-decoration: none;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Desktop language selector
    const languageSelector = document.getElementById('languageSelector');
    const languageMenu = document.querySelector('.language-menu');
    
    if (languageSelector && languageMenu) {
      languageSelector.addEventListener('click', function(e) {
        e.preventDefault();
        const isVisible = languageMenu.style.display === 'block';
        languageMenu.style.display = isVisible ? 'none' : 'block';
      });
      
      // Close the dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!languageSelector.contains(e.target) && !languageMenu.contains(e.target)) {
          languageMenu.style.display = 'none';
        }
      });
    }
    
    // Mobile language selector
    const mobileLangSelector = document.getElementById('mobileLangSelector');
    const mobileLangMenu = document.querySelector('.language-mobile-menu');
    
    if (mobileLangSelector && mobileLangMenu) {
      mobileLangSelector.addEventListener('click', function(e) {
        e.preventDefault();
        const isVisible = mobileLangMenu.style.display === 'block';
        mobileLangMenu.style.display = isVisible ? 'none' : 'block';
      });
      
      // Close the dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!mobileLangSelector.contains(e.target) && !mobileLangMenu.contains(e.target)) {
          mobileLangMenu.style.display = 'none';
        }
      });
    }
  });
</script>

{% schema %}
  {
    "name": "Header",
    "settings": [
      {
        "type": "text",
        "id": "free_shipping_text",
        "label": "Free Shipping Text",
        "default": "Free shipping on all orders above 100€"
      },
      {
        "type": "text",
        "id": "contact_email",
        "label": "Contact Email",
        "default": "info@flutra.eu"
      },
      {
        "type": "text",
        "id": "account_text",
        "label": "Account Text",
        "default": "My Account"
      },
      {
        "type": "text",
        "id": "sign_in_text",
        "label": "Sign In Text",
        "default": "Sign In / Register"
      },
      {
        "type": "text",
        "id": "search_placeholder",
        "label": "Search Placeholder",
        "default": "Search products by name, or category"
      },
      {
        "type": "text",
        "id": "cart_text",
        "label": "Cart Text",
        "default": "Cart"
      },
      {
        "type": "text",
        "id": "your_cart_text",
        "label": "Your Cart Text",
        "default": "Your cart"
      },
      {
        "type": "text",
        "id": "items_text",
        "label": "Items Text",
        "default": "items"
      },
      {
        "type": "text",
        "id": "close_text",
        "label": "Close Text",
        "default": "Close"
      },
      {
        "type": "text",
        "id": "discount_code_text",
        "label": "Discount Code Text",
        "default": "Do you have a discount code?"
      },
      {
        "type": "text",
        "id": "enter_code_placeholder",
        "label": "Enter Code Placeholder",
        "default": "Enter your code"
      },
      {
        "type": "text",
        "id": "order_discounts_text",
        "label": "Order Discounts Text",
        "default": "Order Discounts"
      },
      {
        "type": "text",
        "id": "shipping_costs_text",
        "label": "Shipping Costs Text",
        "default": "Shipping costs"
      },
      {
        "type": "text",
        "id": "subtotal_text",
        "label": "Subtotal Text",
        "default": "Subtotal"
      },
      {
        "type": "text",
        "id": "checkout_button_text",
        "label": "Checkout Button Text",
        "default": "Continue to Checkout"
      },
      {
        "type": "text",
        "id": "email_contact_text",
        "label": "Email Contact Text",
        "default": "Email contact"
      },
      {
        "type": "text",
        "id": "mobile_free_shipping_text",
        "label": "Mobile Free Shipping Text",
        "default": "Free shipping inside 48h on all orders above 100€ in Kosovo"
      },
      {
        "type": "text",
        "id": "choose_language_text",
        "label": "Choose Language Text",
        "default": "Choose Language"
      }
    ],
    "presets": [
      {
        "name": "Header"
      }
    ]
  }
{% endschema %}