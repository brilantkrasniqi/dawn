<!DOCTYPE html>
<html lang="en">
  <head>
    
   <style id="locale-gate">html{visibility:hidden}</style>
<script>
(function(){
  if (window.self !== window.top || location.search.includes("preview_theme_id") || location.search.includes("noredirect=1")) {
    var g=document.getElementById("locale-gate"); if(g) g.remove(); return;
  }
  var p=location.pathname.toLowerCase();
  if (/\.(xml|txt|json|js|css|jpg|jpeg|png|gif|webp|svg|ico|mp4|webm|pdf)$/i.test(p) || p.startsWith("/cdn-cgi/") || p.startsWith("/apps/")) {
    var g2=document.getElementById("locale-gate");if(g2)g2.remove();return;
  }

  const SUPPORTED_LANGUAGES=["en","sq","de","fr","it","sr"];
  const SUPPORTED_COUNTRIES=["al","de","xk","me","mk","rs","ch"];
  const DEFAULT_LANG="en";
  const DEFAULT_COUNTRY="xk";
  const FORCED_LANG_BY_COUNTRY={rs:"sr",al:"sq",xk:"sq",me:"sr",mk:"sr"};
  const ORIGIN=window.location.origin;
  const TTL_MS=60*60*1000; // 1 hour cache

  function now(){return Date.now()}
  function getPrimaryLocale(){const raw=(navigator.languages&&navigator.languages[0])||navigator.language||"";const m=raw.replace("_","-").toLowerCase().split("-");return{lang:m[0]||""}}
  function inferLanguage(){const l=getPrimaryLocale().lang;return SUPPORTED_LANGUAGES.includes(l)?l:DEFAULT_LANG}
  function currentSlug(){const m=location.pathname.match(/^\/([a-z]{2})-([a-z]{2})(\/|$)/i);return m?`${m[1].toLowerCase()}-${m[2].toLowerCase()}`:null}
  function buildTargetUrl(slug){const stripped=location.pathname.replace(/^\/[a-z]{2}-[a-z]{2}(?=\/|$)/i,"");return ORIGIN+`/${slug}`+stripped+(location.search||"")+(location.hash||"")}
  function reveal(){var g=document.getElementById("locale-gate");if(g)g.remove()}

  var safety=setTimeout(reveal,1000);
  var ss=window.sessionStorage, ls=window.localStorage;

  (async function enforce(){
    const cachedSlug=ss&&ss.getItem("localeSlug");
    if(cachedSlug){ if(currentSlug()!==cachedSlug){clearTimeout(safety);window.location.replace(buildTargetUrl(cachedSlug));return;} clearTimeout(safety);reveal();return;}

    let country=DEFAULT_COUNTRY,fresh=false;
    if(ls){
      try{
        const cJSON=ls.getItem("geoCountryCache");
        if(cJSON){const obj=JSON.parse(cJSON);if(obj&&obj.value&&obj.expiry>now()&&SUPPORTED_COUNTRIES.includes(obj.value)){country=obj.value;fresh=true}}
      }catch(e){}
    }
    if(!fresh){
      try{
        const root=(window.Shopify&&Shopify.routes&&Shopify.routes.root)?Shopify.routes.root:"/";
        const res=await fetch(root+"browsing_context_suggestions.json?country[enabled]=true",{credentials:"same-origin",cache:"no-store"});
        if(res.ok){const j=await res.json();const h=j&&j.detected_values&&j.detected_values.country&&j.detected_values.country.handle;if(h){country=h.toLowerCase()}}
      }catch(e){}
      if(!SUPPORTED_COUNTRIES.includes(country)) country=DEFAULT_COUNTRY;
      if(ls){try{ls.setItem("geoCountryCache",JSON.stringify({value:country,expiry:now()+TTL_MS}))}catch(e){}}
    }

    const baseLang=inferLanguage();
    const forced=FORCED_LANG_BY_COUNTRY[country];
    const lang=(forced&&SUPPORTED_LANGUAGES.includes(forced))?forced:baseLang;

    const slug=`${lang}-${country}`;
    if(ss){try{ss.setItem("localeSlug",slug)}catch(e){}}

    if(currentSlug()!==slug){clearTimeout(safety);window.location.replace(buildTargetUrl(slug));return;}
    clearTimeout(safety);reveal();
  })();
})();
</script>

    <meta charset="UTF-8">
    <link
      rel="shortcut icon"
      href="{{ 'flutura-logo-lg.svg' | asset_url }}"
      type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      {{ page_title -}}
      {%- if current_tags %}
        &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
      {%- if current_page != 1 %}
        &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %}
        &ndash; {{ shop.name }}{% endunless -%}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}" />
    {% endif %}
    {{ content_for_header }}
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    {{ 'bootstrap.min.css' | asset_url | stylesheet_tag }}
    {{ 'splide-core.min.css' | asset_url | stylesheet_tag }}
    {{ 'style.css' | asset_url | stylesheet_tag }}
    {{ 'media-queries.css' | asset_url | stylesheet_tag }}
    {{ 'customer-styles.css' | asset_url | stylesheet_tag }}
    <meta name="verify-paysera" content="6f3a909902e4f5bc0e8381362e138abf">
  </head>
  <body>
    <div class="sticky-top">{% section 'header' %}</div>
    {{ content_for_layout }}
    {% section 'footer' %}
    <script src="{{'tcrs-marks.min.js' |  asset_url}}" async></script>
    <script src="{{'toolcool-range-slider.min.js' |  asset_url}}" async></script>
    <script src="{{'bootstrap.min.js' |  asset_url}}" defer></script>
    {% comment %} <script>
                                                                        window.shopMoneyFormat = {{ shop.money_format | json }}
                                                </script> {% endcomment %}
    <script>
      window.translations = {
        youCurrentlySave: {{ 'products.product.you_currently_save' | t | json }},
        offYourTotalOrder: {{ 'products.product.off_your_total_order' | t | json }},
        yourCartIsEmpty: {{ 'cart.general.empty' | t | json }},
        addToCart: {{ 'products.product.add_to_cart' | t | json }},
        outOfStock: {{ 'products.product.out_of_stock' | t | json }},
        freeShippingLabel: {{ 'products.product.free_shipping_message' | t | json }},
        free: {{ 'cart.general.free' | t | json }},
        removeItem: {{ 'cart.general.remove_item' | t | json }},
        per: {{ 'products.product.per' | t | json }},
        productTitles: {
          {% for product in collections.all.products %}
            "{{ product.id }}": {{ product.title | json }}{% unless forloop.last %},{% endunless %}
          {% endfor %}
        }
      };
    </script>
    <script
      type="module"
      src="{{ 'scripts.js' | asset_url }}"
      defer></script>
    <!-- WPD Start -->
    {% if customer.tags.size > 0 and template != 'cart' %}
      <script>
                    document.addEventListener('DOMContentLoaded', function() {
                      let checkoutbtninterval = setInterval(function(){
                        var x=document.querySelectorAll("input[name='checkout'], button[name='checkout'], input[name='goto_pp'], button[name='goto_pp'], input[name='goto_gc'], button[name='goto_gc'], [href$='checkout']");
                        var WPD_RedirectToCart = function(e) {
                          	e.stopPropagation();
                            e.preventDefault();
                            window.location = '/cart';
                            };
                            for (var i = 0; i < x.length; i++) {
                                x[i].addEventListener('click', WPD_RedirectToCart, false);
                            }
                        },500)
                });
      </script>
    {% endif %}

    {% if template contains 'customers' %}
      <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
      <script src="{{ 'customer_area.js' | shopify_asset_url }}" defer></script>
    {% endif %}
  </body>
</html>