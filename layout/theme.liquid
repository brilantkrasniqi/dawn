<!DOCTYPE html>
<html lang="en">
  <head>
    

    <script>
/**
 * Redirects to /{lang}-{country}
 * e.g. /en-de, /de-de, /en-fr
 */

(function () {
  const SUPPORTED_LANGUAGES = ["en", "al", "de", "fr"];
  const SUPPORTED_COUNTRIES = ["de", "fr"];
  const DEFAULT_LANG = "en";
  const DEFAULT_COUNTRY = "de";
  const LOCALE_COOKIE_NAME = "locale"; // saves "en-de"
  const REDIRECT_SESSION_KEY = "lastLocaleRedirect";
  const ORIGIN = window.location.origin;

  // ===== HELPERS =====
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(";").shift();
  }

  function setCookie(name, value, days = 365) {
    const expires = new Date(Date.now() + days * 864e5).toUTCString();
    document.cookie = `${name}=${value}; expires=${expires}; path=/; SameSite=Lax`;
  }

  function getPrimaryLocale() {
    const raw = (navigator.languages && navigator.languages[0]) || navigator.language || "";
    const m = raw.replace("_", "-").toLowerCase().split("-");
    return {
      lang: m[0] || "",
      country: (m[1] || "").toLowerCase()
    };
  }

  function inferLanguage() {
    const { lang } = getPrimaryLocale();
    return SUPPORTED_LANGUAGES.includes(lang) ? lang : DEFAULT_LANG;
  }

  function inferCountry() {
    const { country } = getPrimaryLocale();
    return SUPPORTED_COUNTRIES.includes(country) ? country : DEFAULT_COUNTRY;
  }

  function currentSlug() {
    const path = location.pathname;
    const m = path.match(/^\/([a-z]{2})-([a-z]{2})(\/|$)/i);
    return m ? `${m[1]}-${m[2]}` : null;
  }

  function buildTargetUrl(lang, country) {
    const path = location.pathname;
    const query = location.search || "";
    const hash = location.hash || "";

    // Strip existing slug if present
    const strippedPath = path.replace(/^\/[a-z]{2}-[a-z]{2}(?=\/|$)/i, "");
    return ORIGIN + `/${lang}-${country}` + strippedPath + query + hash;
  }

  function shouldRedirect(targetSlug) {
    const last = sessionStorage.getItem(REDIRECT_SESSION_KEY);
    if (last && last === targetSlug) return false;
    return currentSlug() !== targetSlug;
  }

  // ===== MAIN =====
  (function init() {
    const cookieLocale = getCookie(LOCALE_COOKIE_NAME); // e.g., "en-de"
    const cookieLang = cookieLocale ? cookieLocale.split("-")[0] : null;
    const cookieCountry = cookieLocale ? cookieLocale.split("-")[1] : null;

    const lang = cookieLang && SUPPORTED_LANGUAGES.includes(cookieLang) ? cookieLang : inferLanguage();
    const country = cookieCountry && SUPPORTED_COUNTRIES.includes(cookieCountry) ? cookieCountry : inferCountry();

    const targetSlug = `${lang}-${country}`;
    setCookie(LOCALE_COOKIE_NAME, targetSlug);

    if (shouldRedirect(targetSlug)) {
      sessionStorage.setItem(REDIRECT_SESSION_KEY, targetSlug);
      window.location.replace(buildTargetUrl(lang, country));
    }
  })();
})();
</script>


    <meta charset="UTF-8">
    <link
      rel="shortcut icon"
      href="{{ 'flutura-logo-lg.svg' | asset_url }}"
      type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      {{ page_title -}}
      {%- if current_tags %}
        &ndash; tagged "{{ current_tags | join: ', ' }}"{% endif -%}
      {%- if current_page != 1 %}
        &ndash; Page {{ current_page }}{% endif -%}
      {%- unless page_title contains shop.name %}
        &ndash; {{ shop.name }}{% endunless -%}
    </title>

    {% if page_description %}
      <meta name="description" content="{{ page_description | escape }}" />
    {% endif %}
    {{ content_for_header }}
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300..800&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
    {{ 'bootstrap.min.css' | asset_url | stylesheet_tag }}
    {{ 'splide-core.min.css' | asset_url | stylesheet_tag }}
    {{ 'style.css' | asset_url | stylesheet_tag }}
    {{ 'media-queries.css' | asset_url | stylesheet_tag }}
    {{ 'customer-styles.css' | asset_url | stylesheet_tag }}
    <meta name="verify-paysera" content="6f3a909902e4f5bc0e8381362e138abf">
  </head>
  <body>
    <div class="sticky-top">{% section 'header' %}</div>
    {{ content_for_layout }}
    {% section 'footer' %}
    <script src="{{'tcrs-marks.min.js' |  asset_url}}" async></script>
    <script src="{{'toolcool-range-slider.min.js' |  asset_url}}" async></script>
    <script src="{{'bootstrap.min.js' |  asset_url}}" defer></script>
    {% comment %} <script>
                                                                        window.shopMoneyFormat = {{ shop.money_format | json }}
                                                </script> {% endcomment %}
    <script>
                              window.translations = {
                                youCurrentlySave: {{ 'products.product.you_currently_save' | t | json }},
                                offYourTotalOrder: {{ 'products.product.off_your_total_order' | t | json }},
                                yourCartIsEmpty: {{ 'cart.general.empty' | t | json }},
                                addToCart: {{ 'products.product.add_to_cart' | t | json }},
                                outOfStock: {{ 'products.product.out_of_stock' | t | json }},
                                freeShippingLabel: {{ 'products.product.free_shipping_message' | t | json }},
                                free: {{ 'cart.general.free' | t | json }},
                                removeItem: {{ 'cart.general.remove_item' | t | json }},
                                per: {{ 'products.product.per' | t | json }}
                              };
    </script>
    <script
      type="module"
      src="{{ 'scripts.js' | asset_url }}"
      defer></script>
    <!-- WPD Start -->
    {% if customer.tags.size > 0 and template != 'cart' %}
      <script>
                    document.addEventListener('DOMContentLoaded', function() {
                      let checkoutbtninterval = setInterval(function(){
                        var x=document.querySelectorAll("input[name='checkout'], button[name='checkout'], input[name='goto_pp'], button[name='goto_pp'], input[name='goto_gc'], button[name='goto_gc'], [href$='checkout']");
                        var WPD_RedirectToCart = function(e) {
                          	e.stopPropagation();
                            e.preventDefault();
                            window.location = '/cart';
                            };
                            for (var i = 0; i < x.length; i++) {
                                x[i].addEventListener('click', WPD_RedirectToCart, false);
                            }
                        },500)
                });
      </script>
    {% endif %}

    {% if template contains 'customers' %}
      <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
      <script src="{{ 'customer_area.js' | shopify_asset_url }}" defer></script>
    {% endif %}
  </body>
</html>